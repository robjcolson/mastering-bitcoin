<html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops"><head><title>Transaction Script Language Operators, Constants, and Symbols</title><link href="epub.css" rel="stylesheet" type="text/css"/>
<meta content="urn:uuid:2a6de4af-a2a1-4483-8fda-5d86482f548a" name="Adept.expected.resource"/></head><body data-type="book"><section data-pdf-bookmark="Appendix B. Transaction Script Language Operators, Constants, and Symbols" data-type="appendix" epub:type="appendix"><div class="appendix" id="tx_script_ops">
<h1><span class="label">Appendix B. </span>Transaction Script Language Operators, Constants, and Symbols</h1>

<div data-type="note" epub:type="note"><h6>Note</h6>
<p>Tables and descriptions sourced from <a href="https://en.bitcoin.it/wiki/Script"><em class="hyperlink">https://en.bitcoin.it/wiki/Script</em></a>.</p>
</div>

<p><a data-type="xref" href="#tx_script_ops_table_pushdata">Table B-1</a> shows operators for pushing values onto the stack.<a data-primary="transactions" data-secondary="scripts and Script language" data-type="indexterm" id="TRlang14"/><a data-primary="scripting" data-secondary="Script language operators, constants, and symbols" data-type="indexterm" id="SCRlang14"/></p>
<table id="tx_script_ops_table_pushdata">
<caption><span class="label">Table B-1. </span>Push value onto stack</caption>
<thead>
<tr>
<th>Symbol</th>
<th>Value (hex)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>OP_0 or OP_FALSE</p></td>
<td><p>0x00</p></td>
<td><p>An empty array is pushed onto the stack</p></td>
</tr>
<tr>
<td><p>1-75</p></td>
<td><p>0x01-0x4b</p></td>
<td><p>Push the next N bytes onto the stack, where N is 1 to 75 bytes</p></td>
</tr>
<tr>
<td><p>OP_PUSHDATA1</p></td>
<td><p>0x4c</p></td>
<td><p>The next script byte contains N, push the following N bytes onto the stack</p></td>
</tr>
<tr>
<td><p>OP_PUSHDATA2</p></td>
<td><p>0x4d</p></td>
<td><p>The next two script bytes contain N, push the following N bytes onto the stack</p></td>
</tr>
<tr>
<td><p>OP_PUSHDATA4</p></td>
<td><p>0x4e</p></td>
<td><p>The next four script bytes contain N, push the following N bytes onto the stack</p></td>
</tr>
<tr>
<td><p>OP_1NEGATE</p></td>
<td><p>0x4f</p></td>
<td><p>Push the value “–1” onto the stack</p></td>
</tr>
<tr>
<td><p>OP_RESERVED</p></td>
<td><p>0x50</p></td>
<td><p>Halt - Invalid transaction unless found in an unexecuted OP_IF clause</p></td>
</tr>
<tr>
<td><p>OP_1 or OP_TRUE</p></td>
<td><p>0x51</p></td>
<td><p>Push the value “1” onto the stack</p></td>
</tr>
<tr>
<td><p>OP_2 to OP_16</p></td>
<td><p>0x52 to 0x60</p></td>
<td><p>For OP_N, push the value “N” onto the stack, e.g., OP_2 pushes “2”</p></td>
</tr>
</tbody>
</table>

<p class="pagebreak-before"><a data-type="xref" href="#tx_script_ops_table_control">Table B-2</a> shows conditional flow control operators.</p>
<table id="tx_script_ops_table_control">
<caption><span class="label">Table B-2. </span>Conditional flow control</caption>
<thead>
<tr>
<th>Symbol</th>
<th>Value (hex)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>OP_NOP</p></td>
<td><p>0x61</p></td>
<td><p>Do nothing</p></td>
</tr>
<tr>
<td><p>OP_VER</p></td>
<td><p>0x62</p></td>
<td><p>Halt—Invalid transaction unless found in an unexecuted OP_IF clause</p></td>
</tr>
<tr>
<td><p>OP_IF</p></td>
<td><p>0x63</p></td>
<td><p>Execute the statements following if top of stack is not 0</p></td>
</tr>
<tr>
<td><p>OP_NOTIF</p></td>
<td><p>0x64</p></td>
<td><p>Execute the statements following if top of stack is 0</p></td>
</tr>
<tr>
<td><p>OP_VERIF</p></td>
<td><p>0x65</p></td>
<td><p>Halt—Invalid transaction</p></td>
</tr>
<tr>
<td><p>OP_VERNOTIF</p></td>
<td><p>0x66</p></td>
<td><p>Halt—Invalid transaction</p></td>
</tr>
<tr>
<td><p>OP_ELSE</p></td>
<td><p>0x67</p></td>
<td><p>Execute only if the previous statements were not executed</p></td>
</tr>
<tr>
<td><p>OP_ENDIF</p></td>
<td><p>0x68</p></td>
<td><p>End the OP_IF, OP_NOTIF, OP_ELSE block</p></td>
</tr>
<tr>
<td><p>OP_VERIFY</p></td>
<td><p>0x69</p></td>
<td><p>Check the top of the stack, halt and invalidate transaction if not TRUE</p></td>
</tr>
<tr>
<td><p>OP_RETURN</p></td>
<td><p>0x6a</p></td>
<td><p>Halt and invalidate transaction</p></td>
</tr>
</tbody>
</table>

<p><a data-type="xref" href="#tx_script_ops_table_timelock">Table B-3</a> shows operators used for timelocks.</p>
<table id="tx_script_ops_table_timelock">
<caption><span class="label">Table B-3. </span>Timelock operations</caption>
<thead>
<tr>
<th>Symbol</th>
<th>Value (hex)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>OP_CHECKLOCKTIMEVERIFY (previously OP_NOP2)</p></td>
<td><p>0xb1</p></td>
<td><p>Marks transaction as invalid if the top stack item is greater than the transaction’s nLockTime field, otherwise script evaluation continues as though an OP_NOP was executed. Transaction is also invalid if 1. the stack is empty; or 2. the top stack item is negative; or 3. the top stack item is greater than or equal to 500000000 while the transaction’s nLockTime field is less than 500000000, or vice versa; or 4. the input’s nSequence field is equal to 0xffffffff. The precise semantics are described in BIP-65</p></td>
</tr>
<tr>
<td><p>OP_CHECKSEQUENCEVERIFY (previously OP_NOP3)</p></td>
<td><p>0xb2</p></td>
<td><p>Marks transaction as invalid if the relative lock time of the input (enforced by BIP 0068 with nSequence) is not equal to or longer than the value of the top stack item. The precise semantics are described in BIP-112</p></td>
</tr>
</tbody>
</table>

<p><a data-type="xref" href="#tx_script_ops_table_stack">Table B-4</a> shows operators used to manipulate the stack.</p>
<table id="tx_script_ops_table_stack">
<caption><span class="label">Table B-4. </span>Stack operations</caption>
<thead>
<tr>
<th>Symbol</th>
<th>Value (hex)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>OP_TOALTSTACK</p></td>
<td><p>0x6b</p></td>
<td><p>Pop top item from stack and push to alternative stack</p></td>
</tr>
<tr>
<td><p>OP_FROMALTSTACK</p></td>
<td><p>0x6c</p></td>
<td><p>Pop top item from alternative stack and push to stack</p></td>
</tr>
<tr>
<td><p>OP_2DROP</p></td>
<td><p>0x6d</p></td>
<td><p>Pop top two stack items</p></td>
</tr>
<tr>
<td><p>OP_2DUP</p></td>
<td><p>0x6e</p></td>
<td><p>Duplicate top two stack items</p></td>
</tr>
<tr>
<td><p>OP_3DUP</p></td>
<td><p>0x6f</p></td>
<td><p>Duplicate top three stack items</p></td>
</tr>
<tr>
<td><p>OP_2OVER</p></td>
<td><p>0x70</p></td>
<td><p>Copy the third and fourth items in the stack to the top</p></td>
</tr>
<tr>
<td><p>OP_2ROT</p></td>
<td><p>0x71</p></td>
<td><p>Move the fifth and sixth items in the stack to the top</p></td>
</tr>
<tr>
<td><p>OP_2SWAP</p></td>
<td><p>0x72</p></td>
<td><p>Swap the two top pairs of items in the stack</p></td>
</tr>
<tr>
<td><p>OP_IFDUP</p></td>
<td><p>0x73</p></td>
<td><p>Duplicate the top item in the stack if it is not 0</p></td>
</tr>
<tr>
<td><p>OP_DEPTH</p></td>
<td><p>0x74</p></td>
<td><p>Count the items on the stack and push the resulting count</p></td>
</tr>
<tr>
<td><p>OP_DROP</p></td>
<td><p>0x75</p></td>
<td><p>Pop the top item in the stack</p></td>
</tr>
<tr>
<td><p>OP_DUP</p></td>
<td><p>0x76</p></td>
<td><p>Duplicate the top item in the stack</p></td>
</tr>
<tr>
<td><p>OP_NIP</p></td>
<td><p>0x77</p></td>
<td><p>Pop the second item in the stack</p></td>
</tr>
<tr>
<td><p>OP_OVER</p></td>
<td><p>0x78</p></td>
<td><p>Copy the second item in the stack and push it onto the top</p></td>
</tr>
<tr>
<td><p>OP_PICK</p></td>
<td><p>0x79</p></td>
<td><p>Pop value N from top, then copy the Nth item to the top of the stack</p></td>
</tr>
<tr>
<td><p>OP_ROLL</p></td>
<td><p>0x7a</p></td>
<td><p>Pop value N from top, then move the Nth item to the top of the stack</p></td>
</tr>
<tr>
<td><p>OP_ROT</p></td>
<td><p>0x7b</p></td>
<td><p>Rotate the top three items in the stack</p></td>
</tr>
<tr>
<td><p>OP_SWAP</p></td>
<td><p>0x7c</p></td>
<td><p>Swap the top three items in the stack</p></td>
</tr>
<tr>
<td><p>OP_TUCK</p></td>
<td><p>0x7d</p></td>
<td><p>Copy the top item and insert it between the top and second item.</p></td>
</tr>
</tbody>
</table>

<p><a data-type="xref" href="#tx_script_ops_table_splice">Table B-5</a> shows string operators.</p>
<table id="tx_script_ops_table_splice">
<caption><span class="label">Table B-5. </span>String splice operations</caption>
<thead>
<tr>
<th>Symbol</th>
<th>Value (hex)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><p><em>OP_CAT</em></p></td>
<td><p>0x7e</p></td>
<td><p>Disabled (concatenates top two items)</p></td>
</tr>
<tr>
<td><p><em>OP_SUBSTR</em></p></td>
<td><p>0x7f</p></td>
<td><p>Disabled (returns substring)</p></td>
</tr>
<tr>
<td><p><em>OP_LEFT</em></p></td>
<td><p>0x80</p></td>
<td><p>Disabled (returns left substring)</p></td>
</tr>
<tr>
<td><p><em>OP_RIGHT</em></p></td>
<td><p>0x81</p></td>
<td><p>Disabled (returns right substring)</p></td>
</tr>
<tr>
<td><p>OP_SIZE</p></td>
<td><p>0x82</p></td>
<td><p>Calculate string length of top item and push the result</p></td>
</tr>
</tbody>
</table>

<p><a data-type="xref" href="#tx_script_ops_table_binmath">Table B-6</a> shows binary arithmetic and boolean logic operators.</p>
<table id="tx_script_ops_table_binmath">
<caption><span class="label">Table B-6. </span>Binary arithmetic and conditionals</caption>
<thead>
<tr>
<th>Symbol</th>
<th>Value (hex)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><p><em>OP_INVERT</em></p></td>
<td><p>0x83</p></td>
<td><p>Disabled (Flip the bits of the top item)</p></td>
</tr>
<tr>
<td><p><em>OP_AND</em></p></td>
<td><p>0x84</p></td>
<td><p>Disabled (Boolean AND of two top items)</p></td>
</tr>
<tr>
<td><p><em>OP_OR</em></p></td>
<td><p>0x85</p></td>
<td><p>Disabled (Boolean OR of two top items)</p></td>
</tr>
<tr>
<td><p><em>OP_XOR</em></p></td>
<td><p>0x86</p></td>
<td><p>Disabled (Boolean XOR of two top items)</p></td>
</tr>
<tr>
<td><p>OP_EQUAL</p></td>
<td><p>0x87</p></td>
<td><p>Push TRUE (1) if top two items are exactly equal, push FALSE (0) otherwise</p></td>
</tr>
<tr>
<td><p>OP_EQUALVERIFY</p></td>
<td><p>0x88</p></td>
<td><p>Same as OP_EQUAL, but run OP_VERIFY after to halt if not TRUE</p></td>
</tr>
<tr>
<td><p>OP_RESERVED1</p></td>
<td><p>0x89</p></td>
<td><p>Halt - Invalid transaction unless found in an unexecuted OP_IF clause</p></td>
</tr>
<tr>
<td><p>OP_RESERVED2</p></td>
<td><p>0x8a</p></td>
<td><p>Halt - Invalid transaction unless found in an unexecuted OP_IF clause</p></td>
</tr>
</tbody>
</table>

<p class="pagebreak-before"><a data-type="xref" href="#tx_script_ops_table_numbers">Table B-7</a> shows numeric (arithmetic) operators.</p>
<table id="tx_script_ops_table_numbers">
<caption><span class="label">Table B-7. </span>Numeric operators</caption>
<thead>
<tr>
<th>Symbol</th>
<th>Value (hex)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>OP_1ADD</p></td>
<td><p>0x8b</p></td>
<td><p>Add 1 to the top item</p></td>
</tr>
<tr>
<td><p>OP_1SUB</p></td>
<td><p>0x8c</p></td>
<td><p>Subtract 1 from the top item</p></td>
</tr>
<tr>
<td><p><em>OP_2MUL</em></p></td>
<td><p>0x8d</p></td>
<td><p>Disabled (multiply top item by 2)</p></td>
</tr>
<tr>
<td><p><em>OP_2DIV</em></p></td>
<td><p>0x8e</p></td>
<td><p>Disabled (divide top item by 2)</p></td>
</tr>
<tr>
<td><p>OP_NEGATE</p></td>
<td><p>0x8f</p></td>
<td><p>Flip the sign of top item</p></td>
</tr>
<tr>
<td><p>OP_ABS</p></td>
<td><p>0x90</p></td>
<td><p>Change the sign of the top item to positive</p></td>
</tr>
<tr>
<td><p>OP_NOT</p></td>
<td><p>0x91</p></td>
<td><p>If top item is 0 or 1 Boolean flip it, otherwise return 0</p></td>
</tr>
<tr>
<td><p>OP_0NOTEQUAL</p></td>
<td><p>0x92</p></td>
<td><p>If top item is 0 return 0, otherwise return 1</p></td>
</tr>
<tr>
<td><p>OP_ADD</p></td>
<td><p>0x93</p></td>
<td><p>Pop top two items, add them and push result</p></td>
</tr>
<tr>
<td><p>OP_SUB</p></td>
<td><p>0x94</p></td>
<td><p>Pop top two items, subtract first from second, push result</p></td>
</tr>
<tr>
<td><p>OP_MUL</p></td>
<td><p>0x95</p></td>
<td><p>Disabled (multiply top two items)</p></td>
</tr>
<tr>
<td><p>OP_DIV</p></td>
<td><p>0x96</p></td>
<td><p>Disabled (divide second item by first item)</p></td>
</tr>
<tr>
<td><p>OP_MOD</p></td>
<td><p>0x97</p></td>
<td><p>Disabled (remainder divide second item by first item)</p></td>
</tr>
<tr>
<td><p>OP_LSHIFT</p></td>
<td><p>0x98</p></td>
<td><p>Disabled (shift second item left by first item number of bits)</p></td>
</tr>
<tr>
<td><p>OP_RSHIFT</p></td>
<td><p>0x99</p></td>
<td><p>Disabled (shift second item right by first item number of bits)</p></td>
</tr>
<tr>
<td><p>OP_BOOLAND</p></td>
<td><p>0x9a</p></td>
<td><p>Boolean AND of top two items</p></td>
</tr>
<tr>
<td><p>OP_BOOLOR</p></td>
<td><p>0x9b</p></td>
<td><p>Boolean OR of top two items</p></td>
</tr>
<tr>
<td><p>OP_NUMEQUAL</p></td>
<td><p>0x9c</p></td>
<td><p>Return TRUE if top two items are equal numbers</p></td>
</tr>
<tr>
<td><p>OP_NUMEQUALVERIFY</p></td>
<td><p>0x9d</p></td>
<td><p>Same as NUMEQUAL, then OP_VERIFY to halt if not TRUE</p></td>
</tr>
<tr>
<td><p>OP_NUMNOTEQUAL</p></td>
<td><p>0x9e</p></td>
<td><p>Return TRUE if top two items are not equal numbers</p></td>
</tr>
<tr>
<td><p>OP_LESSTHAN</p></td>
<td><p>0x9f</p></td>
<td><p>Return TRUE if second item is less than top item</p></td>
</tr>
<tr>
<td><p>OP_GREATERTHAN</p></td>
<td><p>0xa0</p></td>
<td><p>Return TRUE if second item is greater than top item</p></td>
</tr>
<tr>
<td><p>OP_LESSTHANOREQUAL</p></td>
<td><p>0xa1</p></td>
<td><p>Return TRUE if second item is less than or equal to top item</p></td>
</tr>
<tr>
<td><p>OP_GREATERTHANOREQUAL</p></td>
<td><p>0xa2</p></td>
<td><p>Return TRUE if second item is great than or equal to top item</p></td>
</tr>
<tr>
<td><p>OP_MIN</p></td>
<td><p>0xa3</p></td>
<td><p>Return the smaller of the two top items</p></td>
</tr>
<tr>
<td><p>OP_MAX</p></td>
<td><p>0xa4</p></td>
<td><p>Return the larger of the two top items</p></td>
</tr>
<tr>
<td><p>OP_WITHIN</p></td>
<td><p>0xa5</p></td>
<td><p>Return TRUE if the third item is between the second item (or equal) and first item</p></td>
</tr>
</tbody>
</table>

<p class="pagebreak-before"><a data-type="xref" href="#tx_script_ops_table_crypto">Table B-8</a> shows cryptographic function operators.</p>
<table id="tx_script_ops_table_crypto">
<caption><span class="label">Table B-8. </span>Cryptographic and hashing operations</caption>
<thead>
<tr>
<th>Symbol</th>
<th>Value (hex)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>OP_RIPEMD160</p></td>
<td><p>0xa6</p></td>
<td><p>Return RIPEMD160 hash of top item</p></td>
</tr>
<tr>
<td><p>OP_SHA1</p></td>
<td><p>0xa7</p></td>
<td><p>Return SHA1 hash of top item</p></td>
</tr>
<tr>
<td><p>OP_SHA256</p></td>
<td><p>0xa8</p></td>
<td><p>Return SHA256 hash of top item</p></td>
</tr>
<tr>
<td><p>OP_HASH160</p></td>
<td><p>0xa9</p></td>
<td><p>Return RIPEMD160(SHA256(x)) hash of top item</p></td>
</tr>
<tr>
<td><p>OP_HASH256</p></td>
<td><p>0xaa</p></td>
<td><p>Return SHA256(SHA256(x)) hash of top item</p></td>
</tr>
<tr>
<td><p>OP_CODESEPARATOR</p></td>
<td><p>0xab</p></td>
<td><p>Mark the beginning of signature-checked data</p></td>
</tr>
<tr>
<td><p>OP_CHECKSIG</p></td>
<td><p>0xac</p></td>
<td><p>Pop a public key and signature and validate the signature for the transaction’s hashed data, return TRUE if matching</p></td>
</tr>
<tr>
<td><p>OP_CHECKSIGVERIFY</p></td>
<td><p>0xad</p></td>
<td><p>Same as CHECKSIG, then OP_VERIFY to halt if not TRUE</p></td>
</tr>
<tr>
<td><p>OP_CHECKMULTISIG</p></td>
<td><p>0xae</p></td>
<td><p>Run CHECKSIG for each pair of signature and public key provided. All must match. Bug in implementation pops an extra value, prefix with OP_NOP as workaround</p></td>
</tr>
<tr>
<td><p>OP_CHECKMULTISIGVERIFY</p></td>
<td><p>0xaf</p></td>
<td><p>Same as CHECKMULTISIG, then OP_VERIFY to halt if not TRUE</p></td>
</tr>
</tbody>
</table>

<p><a data-type="xref" href="#tx_script_ops_table_nop">Table B-9</a> shows nonoperator symbols.</p>
<table id="tx_script_ops_table_nop">
<caption><span class="label">Table B-9. </span>Nonoperators</caption>
<thead>
<tr>
<th>Symbol</th>
<th>Value (hex)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>OP_NOP1-OP_NOP10</p></td>
<td><p>0xb0-0xb9</p></td>
<td><p>Does nothing, ignored</p></td>
</tr>
</tbody>
</table>

<p><a data-type="xref" href="#tx_script_ops_table_internal">Table B-10</a> shows operator codes reserved for use by the internal script parser.<a data-primary="" data-startref="TRlang14" data-type="indexterm" id="idm140310525591840"/><a data-primary="" data-startref="SCRlang14" data-type="indexterm" id="idm140310525590816"/></p>
<table id="tx_script_ops_table_internal">
<caption><span class="label">Table B-10. </span>Reserved OP codes for internal use by the parser</caption>
<thead>
<tr>
<th>Symbol</th>
<th>Value (hex)</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><p>OP_SMALLDATA</p></td>
<td><p>0xf9</p></td>
<td><p>Represents small data field</p></td>
</tr>
<tr>
<td><p>OP_SMALLINTEGER</p></td>
<td><p>0xfa</p></td>
<td><p>Represents small integer data field</p></td>
</tr>
<tr>
<td><p>OP_PUBKEYS</p></td>
<td><p>0xfb</p></td>
<td><p>Represents public key fields</p></td>
</tr>
<tr>
<td><p>OP_PUBKEYHASH</p></td>
<td><p>0xfd</p></td>
<td><p>Represents a public key hash field</p></td>
</tr>
<tr>
<td><p>OP_PUBKEY</p></td>
<td><p>0xfe</p></td>
<td><p>Represents a public key field</p></td>
</tr>
<tr>
<td><p>OP_INVALIDOPCODE</p></td>
<td><p>0xff</p></td>
<td><p>Represents any OP code not currently assigned</p></td>
</tr>
</tbody>
</table>
</div></section></body></html>